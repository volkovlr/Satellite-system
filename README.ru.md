# Проект "Satellite system"

Задача проекта: моделировать движение спутников над Землёй, добавляя спутниковые группировки к модели или отвечая на запросы о проценте площади Земли, покрываемом спутниками определенной группировки в заданный момент времени.

При этом применяются приближенные вычисления. Используется библиотека h3 от Uber, которая делит Землю на правильные шестиугольники определенного размера. Будем считать, что спутник покрывает шестиугольник, если его центр находится в области видимости спутника. Программа считает количество покрытых шестиугольников определенного размера и делит на число всех шестиугольников этого размера. Таким образом и считается покрытие.

## Как работать с программой

### Установка
Клонируйте репозиторий и переключитесь на ветку main
```
git clone -b main https://github.com/volkovlr/Satellite-system
```

Затем, находясь в папке "Satellite-system", создайте виртуальное окружение
```
# Linux / macOS
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# Windows
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

Запуск проекта
```
python -m satellite_system.main
```

### Команды
#### Создание группировки
Ниже приведен пример создания спутниковой группировки:
```
add_group 500 45 30 4 16 3 0 2026-01-15 14:30:45.123456 20
```
То есть группировка задаётся по девяти параметрам, идущим после "add_group", вот они в том порядке, в котором их нужно писать в консоль:

1. Высота каждой орбиты над Землёй (в километрах)
2. Наклон каждой орбиты (в градусах)
3. Долгота восходящего узла для первой орбиты (в градусах)
4. Количество орбит в группировке
5. Количество спутников в группировке (предполагается, что оно делится на число орбит)
6. Фазовый сдвиг между соседними орбитами (в градусах)
7. Фаза первого спутника на первой орбите (в градусах)
8. Время создания группировки (в формате datetime.datetime)
9. Половина угла обзора каждого спутника (в градусах)

После этого группировке будет присвоен номер, о чем вы узнаете из сообщения вида:
```
[2025-12-21 15:53:52] [RESULT] Added a group with a number: 1054
```

#### Подсчет покрытия
Для подсчета покрытия определенной группировкой в заданный момент времени пишется команда следующего вида:
```
calculate_coverage 1054 4 2026-02-15 14:30:45.123456
```
После "calculate_coverage" указывается номер группировки, разрешение (чем разрешение выше, тем точнее вычисления, но не более 6) и время, в которое требуется определить покрытие.

Таблица соответствия разрешений и длин сторон правильных шестиугольников, на которые делится Земля при расчете (информация взята с помощью библиотеки h3):

| Разрешение | Длина стороны, км |
|--------|------------|
| 1 | 483 |
| 2 | 183 |
| 3 | 69 |
| 4 | 26 |
| 5 | 9,9 |
| 6 | 3,7 |

#### Завершение работы
Для завершения работы программы напишите "exit"


### Полный пример работы с программой
```
Enter the command
add_group 500 45 30 4 16 3 0 2026-01-15 14:30:45.123456 20
[2025-12-29 23:15:27] [RESULT] Added a group with a number: 2703
calculate_coverage 2703 4 2026-02-15 14:30:45.123456
[2025-12-29 23:16:01] [RESULT] Coverage of group 2703 is 0.177%
exit
```
